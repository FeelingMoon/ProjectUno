<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
	<title>UNO</title>
	<link rel="stylesheet" type="text/css" href="css/style.css"></link>
</h:head>

<h:body>
	<div class="center-box">
		<div class="box">

			<div class="container">
				<h:form>

					<section class="hero is-danger">
						<div class="hero-body">
							<p class="title">Jugador actual:
								#{juego.jugadorActual.nombre}</p>
							<p class="subtitle">Carta actual: #{juego.cartaActual}</p>
						</div>
					</section>

					<div class="scrollable-table">
						<table class="table is-bordered is-fullwidth">
							<thead>
								<tr>
									<th>Carta</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<ui:repeat value="#{juego.jugadorActual.cartas}" var="carta">
									<tr>
										<td>#{carta} <!-- <IMG src="data:image/png;base64,#{carta.imagen}" /> -->
										</td>
										<td class="is-narrow"><p:commandButton
												class="button is-success" value="Jugar"
												action="#{juego.jugarCarta}" update="@form">
												<f:setPropertyActionListener target="#{juego.cartaJugada}"
													value="#{carta}" />
											</p:commandButton></td>
									</tr>
								</ui:repeat>
							</tbody>
						</table>
					</div>
					<div>
						<p:confirmDialog global="true" header = "Color" showEffect="fade" hideEffect="fade" message = "Elige un color"
							responsive="true" visible = "#{juego.confirmacion}">
							<p:commandButton value="Rojo" type="button"
								styleClass="rounded-button ui-button-danger" oncomplete="PF('confirmationWidget').hide()"
								action = "#{juego.cambiarColorRojo}" update="confirmDialog" process="@this">
								</p:commandButton>
							<p:commandButton value="Azul" type="button"
								styleClass="rounded-button"  oncomplete="PF('confirmationWidget').hide()"
								action = "#{juego.cambiarColorAzul}" update="confirmDialog" process="@this">
								</p:commandButton>
							<p:commandButton value="Amarillo" type="button"
								styleClass="rounded-button ui-button-warning" oncomplete="PF('confirmationWidget').hide()"
								action = "#{juego.cambiarColorAmarillo}" update="confirmDialog" process="@this">
								</p:commandButton>
							<p:commandButton value="Verde" type="button"
								styleClass="rounded-button ui-button-success" oncomplete="PF('confirmationWidget').hide()"
								action = "#{juego.cambiarColorVerde}" update="confirmDialog" process="@this">
								</p:commandButton>
						</p:confirmDialog>
					</div>
					<div class="has-text-centered">
						<p:commandButton class="button is-link  mt-3" value="Robar"
							action="#{juego.robarCarta}" update="@form" />
						<p:messages />
						<!-- La parte de las imagenes se van a hacer con tooltip https://www.primefaces.org/showcase/ui/overlay/tooltip/tooltipOptions.xhtml?jfwid=27dc2 -->
					</div>
				</h:form>
			</div>
		</div>
	</div>
</h:body>

</html>

