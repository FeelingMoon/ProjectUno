<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
	<title>UNO</title>
	<link rel="stylesheet" type="text/css" href="css/style.css"></link>
</h:head>

<h:body>
	<div class="center-box">
		<div class="box">

			<div class="container">
				<h:form>

					<section class="hero is-danger">
						<div class="hero-body">
							<p class="title">Jugador actual:
								#{juego.jugadorActual.nombre}</p>
							<p class="subtitle">Carta actual: #{juego.cartaActual}</p>
						</div>
					</section>

					<div class="scrollable-table">
						<table class="table is-bordered is-fullwidth">
							<thead>
								<tr>
									<th>Carta</th>
									<th></th>
								</tr>
							</thead>
							<tbody>
								<ui:repeat value="#{juego.jugadorActual.cartas}" var="carta">
									<tr>
										<td>#{carta} <!-- <IMG src="data:image/png;base64,#{carta.imagen}" /> -->
										</td>
										<td class="is-narrow"><p:commandButton
												class="button is-success" value="Jugar"
												action="#{juego.jugarCarta}" update="@form">
												<f:setPropertyActionListener target="#{juego.cartaJugada}"
													value="#{carta}" />
											</p:commandButton></td>
									</tr>
								</ui:repeat>
							</tbody>
						</table>
					</div>

					<div class="has-text-centered">
						<p:commandButton class="button is-link  mt-3" value="Robar"
							action="#{juego.robarCarta}" update="@form" />
						<p:messages />
						<!-- La parte de las imagenes se van a hacer con tooltip https://www.primefaces.org/showcase/ui/overlay/tooltip/tooltipOptions.xhtml?jfwid=27dc2 -->
					</div>
					<p:confirmDialog global="true" header="Color" showEffect="fade"
						hideEffect="fade" message="Elige un color" responsive="true"
						visible="#{juego.confirmacion}">

						<div class="buttons">
							<p:commandButton value="Rojo" styleClass="button is-danger"
								action="#{juego.cambiarColorRojo}" update="@form" />
							<p:commandButton value="Azul" styleClass="button"
								action="#{juego.cambiarColorAzul}" update="@form" />
							<p:commandButton value="Amarillo" styleClass="button is-warning"
								action="#{juego.cambiarColorAmarillo}" update="@form" />
							<p:commandButton value="Verde" styleClass="button is-success"
								action="#{juego.cambiarColorVerde}" update="@form" />
						</div>

					</p:confirmDialog>
				</h:form>
			</div>
		</div>
	</div>
</h:body>

</html>

